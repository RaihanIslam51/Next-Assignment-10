{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Raihan/Desktop/Learn/Next-Assignment-10/src/app/dashboard/add-product/page.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useSession } from \"next-auth/react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport default function AddProductPage() {\r\n  const { data: session, status } = useSession();\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(false);\r\n  const [product, setProduct] = useState({ name: \"\", description: \"\", price: \"\", details: \"\", image: \"\" });\r\n\r\n  useEffect(() => {\r\n    if (status === \"unauthenticated\") router.push(\"/login\");\r\n  }, [status, router]);\r\n\r\n  const handleChange = (e) => setProduct({ ...product, [e.target.name]: e.target.value });\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    Swal.fire({\r\n      title: \"Adding Product...\",\r\n      allowOutsideClick: false,\r\n      didOpen: () => Swal.showLoading(),\r\n    });\r\n\r\n    try {\r\n      const res = await axios.post(\"/api/products\", product);\r\n\r\n      Swal.close();\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Product Added!\",\r\n        text: \"The product was successfully added.\",\r\n        timer: 2000,\r\n        showConfirmButton: false,\r\n      });\r\n\r\n      setProduct({ name: \"\", description: \"\", price: \"\", details: \"\", image: \"\" });\r\n    } catch (err) {\r\n      Swal.close();\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Failed\",\r\n        text: err?.response?.data?.message || \"Could not add the product. Please try again.\",\r\n      });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (status === \"loading\") return <p className=\"text-center mt-10\">Loading...</p>;\r\n  if (!session) return null;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-base-200 dark:bg-base-300 p-4\">\r\n      <div className=\"w-full max-w-lg bg-base-100 dark:bg-base-800 rounded-3xl shadow-xl p-8 md:p-10 transition-colors\">\r\n        <h2 className=\"text-3xl font-bold mb-6 text-center text-base-content dark:text-base-content\">Add New Product</h2>\r\n\r\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n          <div>\r\n            <label className=\"block mb-2 font-medium text-base-content dark:text-base-content\">Product Name</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={product.name}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Enter product name\"\r\n              className=\"input input-bordered w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-2 font-medium text-base-content dark:text-base-content\">Short Description</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"description\"\r\n              value={product.description}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Enter short description\"\r\n              className=\"input input-bordered w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-2 font-medium text-base-content dark:text-base-content\">Price</label>\r\n            <input\r\n              type=\"number\"\r\n              name=\"price\"\r\n              value={product.price}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Enter price\"\r\n              className=\"input input-bordered w-full\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-2 font-medium text-base-content dark:text-base-content\">Details</label>\r\n            <textarea\r\n              name=\"details\"\r\n              value={product.details}\r\n              onChange={handleChange}\r\n              required\r\n              placeholder=\"Enter full product details\"\r\n              className=\"textarea textarea-bordered w-full h-32 resize-none\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label className=\"block mb-2 font-medium text-base-content dark:text-base-content\">Image URL</label>\r\n            <input\r\n              type=\"text\"\r\n              name=\"image\"\r\n              value={product.image}\r\n              onChange={handleChange}\r\n              placeholder=\"Paste image URL\"\r\n              className=\"input input-bordered w-full\"\r\n            />\r\n          </div>\r\n\r\n          <button type=\"submit\" className={`btn w-full ${loading ? \"loading\" : \"\"}`} disabled={loading}>\r\n            {loading ? \"Adding...\" : \"Add Product\"}\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}